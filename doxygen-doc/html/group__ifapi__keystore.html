<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tpm2-tss: Key store module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tpm2-tss
   &#160;<span id="projectnumber">4.0.1-44-g8699ab39</span>
   </div>
   <div id="projectbrief">TPM Software stack 2.0 TCG spec compliant implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__ifapi__keystore.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Key store module<div class="ingroups"><a class="el" href="group__fapi.html">Feature API</a> &raquo; <a class="el" href="group__ifapi.html">Internals of Feature API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafabb0a59d18b036c7d3cc083aee10dfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#gafabb0a59d18b036c7d3cc083aee10dfb">ifapi_cleanup_ifapi_duplicate</a> (<a class="el" href="struct_i_f_a_p_i___d_u_p_l_i_c_a_t_e.html">IFAPI_DUPLICATE</a> *duplicate)</td></tr>
<tr class="separator:gafabb0a59d18b036c7d3cc083aee10dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa33b0570f924b7418fddc46bc8c0ed6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#gaaa33b0570f924b7418fddc46bc8c0ed6">ifapi_cleanup_ifapi_ext_pub_key</a> (<a class="el" href="struct_i_f_a_p_i___e_x_t___p_u_b___k_e_y.html">IFAPI_EXT_PUB_KEY</a> *key)</td></tr>
<tr class="separator:gaaa33b0570f924b7418fddc46bc8c0ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa87362683c0d4c3849bbbaa7f20ce1f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#gaa87362683c0d4c3849bbbaa7f20ce1f7">ifapi_cleanup_ifapi_hierarchy</a> (<a class="el" href="struct_i_f_a_p_i___h_i_e_r_a_r_c_h_y.html">IFAPI_HIERARCHY</a> *hierarchy)</td></tr>
<tr class="separator:gaa87362683c0d4c3849bbbaa7f20ce1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdde064639939831b2ffc5ce65b47fff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#gafdde064639939831b2ffc5ce65b47fff">ifapi_cleanup_ifapi_key</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y.html">IFAPI_KEY</a> *key)</td></tr>
<tr class="separator:gafdde064639939831b2ffc5ce65b47fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaead62f5bcafdb03059407489c811f11e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#gaead62f5bcafdb03059407489c811f11e">ifapi_cleanup_ifapi_keystore</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore)</td></tr>
<tr class="separator:gaead62f5bcafdb03059407489c811f11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff395a5d7935eb45f919b2dc69cd4349"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#gaff395a5d7935eb45f919b2dc69cd4349">ifapi_cleanup_ifapi_nv</a> (<a class="el" href="struct_i_f_a_p_i___n_v.html">IFAPI_NV</a> *nv)</td></tr>
<tr class="separator:gaff395a5d7935eb45f919b2dc69cd4349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6b0773d734df895630a880c98163bb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#gac6b0773d734df895630a880c98163bb0">ifapi_cleanup_ifapi_object</a> (<a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *object)</td></tr>
<tr class="separator:gac6b0773d734df895630a880c98163bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55482c9b1bb6ee0b50426ecd7a7c8f61"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga55482c9b1bb6ee0b50426ecd7a7c8f61">ifapi_copy_ifapi_key</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y.html">IFAPI_KEY</a> *dest, const <a class="el" href="struct_i_f_a_p_i___k_e_y.html">IFAPI_KEY</a> *src)</td></tr>
<tr class="separator:ga55482c9b1bb6ee0b50426ecd7a7c8f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0dfb30704ead405b7786cdd15fe365a3"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga0dfb30704ead405b7786cdd15fe365a3">ifapi_copy_ifapi_key_object</a> (<a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *dest, const <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *src)</td></tr>
<tr class="separator:ga0dfb30704ead405b7786cdd15fe365a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bb0e3d58d2c8644dfddb509bde5d09b"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga6bb0e3d58d2c8644dfddb509bde5d09b">ifapi_keystore_delete</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, char *path)</td></tr>
<tr class="separator:ga6bb0e3d58d2c8644dfddb509bde5d09b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fe64f630dfab96d28d1206b36937003"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga7fe64f630dfab96d28d1206b36937003">ifapi_keystore_initialize</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, const char *config_systemdir, const char *config_userdir, const char *config_defaultprofile)</td></tr>
<tr class="separator:ga7fe64f630dfab96d28d1206b36937003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7fe0097564cb4663a92f39e1620fc293"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga7fe0097564cb4663a92f39e1620fc293">ifapi_keystore_list_all</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, const char *searchpath, char ***results, size_t *numresults)</td></tr>
<tr class="separator:ga7fe0097564cb4663a92f39e1620fc293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6af418f78dd03c860a428b14e0530213"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga6af418f78dd03c860a428b14e0530213">ifapi_keystore_load_async</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, <a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *io, const char *path)</td></tr>
<tr class="separator:ga6af418f78dd03c860a428b14e0530213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33837c1356e218bd96fd5ac58a8193b2"><td class="memItemLeft" align="right" valign="top"><a id="ga33837c1356e218bd96fd5ac58a8193b2"></a>
TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><b>ifapi_keystore_load_finish</b> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, <a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *io, <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *object)</td></tr>
<tr class="separator:ga33837c1356e218bd96fd5ac58a8193b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c893408be4f545cf9c056284e3eab28"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga6c893408be4f545cf9c056284e3eab28">ifapi_keystore_remove_directories</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, const char *dir_name)</td></tr>
<tr class="separator:ga6c893408be4f545cf9c056284e3eab28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ecdfa3a0394f1e2ef0c9bf81039ed81"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga6ecdfa3a0394f1e2ef0c9bf81039ed81">ifapi_keystore_search_nv_obj</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, <a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *io, TPM2B_NV_PUBLIC *nv_public, char **found_path)</td></tr>
<tr class="separator:ga6ecdfa3a0394f1e2ef0c9bf81039ed81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26224646067aa6f2e349a43345744fd5"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga26224646067aa6f2e349a43345744fd5">ifapi_keystore_search_obj</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, <a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *io, TPM2B_NAME *name, char **found_path)</td></tr>
<tr class="separator:ga26224646067aa6f2e349a43345744fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8394ad181ae3e9130c4aec886cb091d"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#gaf8394ad181ae3e9130c4aec886cb091d">ifapi_keystore_store_async</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, <a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *io, const char *path, const <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *object)</td></tr>
<tr class="separator:gaf8394ad181ae3e9130c4aec886cb091d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65efd616ba01aa737b3acf4c168c9148"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga65efd616ba01aa737b3acf4c168c9148">ifapi_copy_ifapi_hierarchy</a> (<a class="el" href="struct_i_f_a_p_i___h_i_e_r_a_r_c_h_y.html">IFAPI_HIERARCHY</a> *dest, const <a class="el" href="struct_i_f_a_p_i___h_i_e_r_a_r_c_h_y.html">IFAPI_HIERARCHY</a> *src)</td></tr>
<tr class="separator:ga65efd616ba01aa737b3acf4c168c9148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b17a8bfeb50365b22cdefdb41bf1997"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga2b17a8bfeb50365b22cdefdb41bf1997">ifapi_copy_ifapi_hierarchy_object</a> (<a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *dest, const <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *src)</td></tr>
<tr class="separator:ga2b17a8bfeb50365b22cdefdb41bf1997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24d8a92700486782021c434be1865992"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ifapi__keystore.html#ga24d8a92700486782021c434be1865992">ifapi_keystore_object_does_not_exist</a> (<a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *keystore, const char *path, const <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *object)</td></tr>
<tr class="separator:ga24d8a92700486782021c434be1865992"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides internal fapi functions for reading and writing to the key store. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafabb0a59d18b036c7d3cc083aee10dfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafabb0a59d18b036c7d3cc083aee10dfb">&#9670;&nbsp;</a></span>ifapi_cleanup_ifapi_duplicate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ifapi_cleanup_ifapi_duplicate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___d_u_p_l_i_c_a_t_e.html">IFAPI_DUPLICATE</a> *&#160;</td>
          <td class="paramname"><em>duplicate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free memory allocated during deserialization of a duplicate object.</p>
<p>The duplicate object will not be freed (might be declared on the stack).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">duplicate</td><td>The duplicate object to be cleaned up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaa33b0570f924b7418fddc46bc8c0ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa33b0570f924b7418fddc46bc8c0ed6">&#9670;&nbsp;</a></span>ifapi_cleanup_ifapi_ext_pub_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ifapi_cleanup_ifapi_ext_pub_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___e_x_t___p_u_b___k_e_y.html">IFAPI_EXT_PUB_KEY</a> *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free memory allocated during deserialization of a pubkey object.</p>
<p>The pubkey will not be freed (might be declared on the stack).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The pubkey object to be cleaned up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa87362683c0d4c3849bbbaa7f20ce1f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa87362683c0d4c3849bbbaa7f20ce1f7">&#9670;&nbsp;</a></span>ifapi_cleanup_ifapi_hierarchy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ifapi_cleanup_ifapi_hierarchy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___h_i_e_r_a_r_c_h_y.html">IFAPI_HIERARCHY</a> *&#160;</td>
          <td class="paramname"><em>hierarchy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free memory allocated during deserialization of a hierarchy object.</p>
<p>The hierarchy object will not be freed (might be declared on the stack).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hierarchy</td><td>The hierarchy object to be cleaned up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafdde064639939831b2ffc5ce65b47fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdde064639939831b2ffc5ce65b47fff">&#9670;&nbsp;</a></span>ifapi_cleanup_ifapi_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ifapi_cleanup_ifapi_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y.html">IFAPI_KEY</a> *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free memory allocated during deserialization of a key object.</p>
<p>The key will not be freed (might be declared on the stack).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The key object to be cleaned up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaead62f5bcafdb03059407489c811f11e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaead62f5bcafdb03059407489c811f11e">&#9670;&nbsp;</a></span>ifapi_cleanup_ifapi_keystore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ifapi_cleanup_ifapi_keystore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free keystore related memory allocated during FAPI initialization.</p>
<p>The keystore object will not be freed (might be declared on the stack).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keystore</td><td>The kystore object to be cleaned up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaff395a5d7935eb45f919b2dc69cd4349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff395a5d7935eb45f919b2dc69cd4349">&#9670;&nbsp;</a></span>ifapi_cleanup_ifapi_nv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ifapi_cleanup_ifapi_nv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___n_v.html">IFAPI_NV</a> *&#160;</td>
          <td class="paramname"><em>nv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free memory allocated during deserialization of a nv object.</p>
<p>The nv object will not be freed (might be declared on the stack).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nv</td><td>The nv object to be cleaned up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac6b0773d734df895630a880c98163bb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6b0773d734df895630a880c98163bb0">&#9670;&nbsp;</a></span>ifapi_cleanup_ifapi_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ifapi_cleanup_ifapi_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free memory allocated during deserialization of object.</p>
<p>The object will not be freed (might be declared on the stack).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>The object to be cleaned up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga65efd616ba01aa737b3acf4c168c9148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65efd616ba01aa737b3acf4c168c9148">&#9670;&nbsp;</a></span>ifapi_copy_ifapi_hierarchy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ifapi_copy_ifapi_hierarchy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___h_i_e_r_a_r_c_h_y.html">IFAPI_HIERARCHY</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_i_f_a_p_i___h_i_e_r_a_r_c_h_y.html">IFAPI_HIERARCHY</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a copy of a an ifapi hierarchy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The caller allocated hierarchy object which will be the destination of the copy operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>The source hierarchy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>if the function call was a success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if not enough memory can be allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2b17a8bfeb50365b22cdefdb41bf1997"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b17a8bfeb50365b22cdefdb41bf1997">&#9670;&nbsp;</a></span>ifapi_copy_ifapi_hierarchy_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ifapi_copy_ifapi_hierarchy_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a copy of a an ifapi object storing a hierarchy.</p>
<p>The hierarchy together with the policy of the hierarchy will be copied.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The caller allocated hierarchy object which will be the destination of the copy operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>The source hieararchy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>if the function call was a success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_GENERAL_FAILURE</td><td>if the source is not of type key. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if not enough memory can be allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga55482c9b1bb6ee0b50426ecd7a7c8f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55482c9b1bb6ee0b50426ecd7a7c8f61">&#9670;&nbsp;</a></span>ifapi_copy_ifapi_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_copy_ifapi_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y.html">IFAPI_KEY</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_i_f_a_p_i___k_e_y.html">IFAPI_KEY</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a copy of a an ifapi key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The caller allocated key object which will be the destination of the copy operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>The source key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>if the function call was a success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if not enough memory can be allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0dfb30704ead405b7786cdd15fe365a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0dfb30704ead405b7786cdd15fe365a3">&#9670;&nbsp;</a></span>ifapi_copy_ifapi_key_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_copy_ifapi_key_object </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a copy of a an ifapi object storing a key.</p>
<p>The key together with the policy of the key will be copied.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>The caller allocated key object which will be the destination of the copy operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>The source key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>if the function call was a success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_GENERAL_FAILURE</td><td>if the source is not of type key. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if not enough memory can be allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6bb0e3d58d2c8644dfddb509bde5d09b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6bb0e3d58d2c8644dfddb509bde5d09b">&#9670;&nbsp;</a></span>ifapi_keystore_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_keystore_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove file storing a keystore object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keystore</td><td>The key directories, the default profile. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The relative name of the object be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>On success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>If memory could not be allocated. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_IO_ERROR</td><td>If the file can't be removed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_NOT_FOUND</td><td>if a FAPI object path was not found during authorization. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_KEY_NOT_FOUND</td><td>if a key was not found. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_NOT_PROVISIONED</td><td>FAPI was not provisioned. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the path is used in inappropriate context or contains illegal characters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7fe64f630dfab96d28d1206b36937003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fe64f630dfab96d28d1206b36937003">&#9670;&nbsp;</a></span>ifapi_keystore_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_keystore_initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>config_systemdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>config_userdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>config_defaultprofile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store keystore parameters in the keystore context.</p>
<p>Also the user directory will be created if it does not exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">keystore</td><td>The keystore to be initialized. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config_systemdir</td><td>The configured system directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config_userdir</td><td>The configured user directory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config_defaultprofile</td><td>The configured profile.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>If the keystore can be initialized. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_IO_ERROR</td><td>If the user part of the keystore can't be initialized. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if memory could not be allocated. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the home directory of the user cannot be determined. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7fe0097564cb4663a92f39e1620fc293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7fe0097564cb4663a92f39e1620fc293">&#9670;&nbsp;</a></span>ifapi_keystore_list_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_keystore_list_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>searchpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>numresults</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a list of of objects in a certain search path.</p>
<p>A vector of relative paths will be computed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keystore</td><td>The key directories, the default profile. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">searchpath</td><td>The relative search path in key store. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">results</td><td>The array with pointers to the relative object paths. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">numresults</td><td>The number of found objects. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if memory could not be allocated. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the path is used in inappropriate context or contains illegal characters. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_NOT_FOUND</td><td>if a FAPI object path was not found during authorization. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6af418f78dd03c860a428b14e0530213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6af418f78dd03c860a428b14e0530213">&#9670;&nbsp;</a></span>ifapi_keystore_load_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_keystore_load_async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start loading FAPI object from key store.</p>
<p>Keys objects, NV objects, and hierarchies can be loaded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keystore</td><td>The key directories and default profile. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">io</td><td>The input/output context being used for file I/O. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The relative path of the object. For keys the path will expanded if possible. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>If the object can be read. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_IO_ERROR</td><td>if an I/O error was encountered. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_NOT_FOUND</td><td>if the file does not exist. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if memory could not be allocated to hold the read data. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_KEY_NOT_FOUND</td><td>if a key was not found. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_NOT_PROVISIONED</td><td>FAPI was not provisioned. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the path is used in inappropriate context or contains illegal characters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga24d8a92700486782021c434be1865992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24d8a92700486782021c434be1865992">&#9670;&nbsp;</a></span>ifapi_keystore_object_does_not_exist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ifapi_keystore_object_does_not_exist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the key path for a new object does not exist in key store.</p>
<p>To prevent overwriting of objects the functions returns an error if the object is already stored in key store. The FAPI path will be expanded to absolute path appropriate for the object to be checked.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keystore</td><td>The key directories and default profile. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The relative path of the object. For keys the path will expanded if possible. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>The object to be checked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>if the object does not exist and a new object can be written. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_ALREADY_EXISTS</td><td>if the object exists in key store. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if memory could not be allocated to hold the output data. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the path is used in inappropriate context or contains illegal characters. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_NOT_FOUND</td><td>if a FAPI object path was not found during authorization. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6c893408be4f545cf9c056284e3eab28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c893408be4f545cf9c056284e3eab28">&#9670;&nbsp;</a></span>ifapi_keystore_remove_directories()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_keystore_remove_directories </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dir_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove directories in keystore.</p>
<p>If the expanded directory exists in userdir and systemdir both will be deleted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keystore</td><td>The key directories, the default profile. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir_name</td><td>The relative name of the directory to be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>If memory could not be allocated. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_IO_ERROR</td><td>If directory can't be deleted. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the path is used in inappropriate context or contains illegal characters. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_NOT_FOUND</td><td>if a FAPI object path was not found during authorization. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6ecdfa3a0394f1e2ef0c9bf81039ed81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ecdfa3a0394f1e2ef0c9bf81039ed81">&#9670;&nbsp;</a></span>ifapi_keystore_search_nv_obj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_keystore_search_nv_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPM2B_NV_PUBLIC *&#160;</td>
          <td class="paramname"><em>nv_public</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>found_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search nv object with a certain nv_index (from nv_public) in keystore.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">keystore</td><td>The key directories, the default profile, and the state information for the asynchronous search. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">io</td><td>The input/output context being used for file I/O. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nv_public</td><td>The public data of the searched nv object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">found_path</td><td>The relative path of the found key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if memory could not be allocated. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_KEY_NOT_FOUND</td><td>If the key was not found in keystore. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_NOT_FOUND</td><td>if a FAPI object path was not found during authorization. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_TRY_AGAIN</td><td>if an I/O operation is not finished yet and this function needs to be called again. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_SEQUENCE</td><td>if the context has an asynchronous operation already pending. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_IO_ERROR</td><td>if an error occurred while accessing the object store. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_GENERAL_FAILURE</td><td>if an internal error occurred. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_ALREADY_EXISTS</td><td>if the object already exists in object store. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the path is used in inappropriate context or contains illegal characters. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_NOT_PROVISIONED</td><td>FAPI was not provisioned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga26224646067aa6f2e349a43345744fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26224646067aa6f2e349a43345744fd5">&#9670;&nbsp;</a></span>ifapi_keystore_search_obj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_keystore_search_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPM2B_NAME *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>found_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search object with a certain name in keystore.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">keystore</td><td>The key directories, the default profile, and the state information for the asynchronous search. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">io</td><td>The input/output context being used for file I/O. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The name of the searched object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">found_path</td><td>The relative path of the found key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if memory could not be allocated. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_KEY_NOT_FOUND</td><td>If the key was not found in keystore. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_NOT_FOUND</td><td>if a FAPI object path was not found during authorization. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_TRY_AGAIN</td><td>if an I/O operation is not finished yet and this function needs to be called again. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_SEQUENCE</td><td>if the context has an asynchronous operation already pending. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_IO_ERROR</td><td>if an error occurred while accessing the object store. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_GENERAL_FAILURE</td><td>if an internal error occurred. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the path is used in inappropriate context or contains illegal characters. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_NOT_PROVISIONED</td><td>FAPI was not provisioned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf8394ad181ae3e9130c4aec886cb091d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8394ad181ae3e9130c4aec886cb091d">&#9670;&nbsp;</a></span>ifapi_keystore_store_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC ifapi_keystore_store_async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___k_e_y_s_t_o_r_e.html">IFAPI_KEYSTORE</a> *&#160;</td>
          <td class="paramname"><em>keystore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_f_a_p_i___i_o.html">IFAPI_IO</a> *&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i_f_a_p_i___o_b_j_e_c_t.html">IFAPI_OBJECT</a> *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start writing FAPI object to the key store.</p>
<p>Keys objects, NV objects, and hierarchies can be written.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keystore</td><td>The key directories and default profile. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">io</td><td>The input/output context being used for file I/O. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The relative path of the object. For keys the path will expanded if possible. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">object</td><td>The object to be written to the keystore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>if the object is written successfully. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_IO_ERROR</td><td>if an I/O error was encountered; </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_MEMORY</td><td>if memory could not be allocated to hold the output data. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_VALUE</td><td>if an invalid value was passed into the function. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_GENERAL_FAILURE</td><td>if an internal error occurred. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_REFERENCE</td><td>a invalid null pointer is passed. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_BAD_PATH</td><td>if the path is used in inappropriate context or contains illegal characters. </td></tr>
    <tr><td class="paramname">TSS2_FAPI_RC_PATH_NOT_FOUND</td><td>if a FAPI object path was not found during authorization. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
