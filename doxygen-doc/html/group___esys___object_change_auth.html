<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tpm2-tss: The ESAPI function for the TPM2_ObjectChangeAuth command.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tpm2-tss
   &#160;<span id="projectnumber">4.0.1-44-g8699ab39</span>
   </div>
   <div id="projectbrief">TPM Software stack 2.0 TCG spec compliant implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___esys___object_change_auth.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">The ESAPI function for the TPM2_ObjectChangeAuth command.<div class="ingroups"><a class="el" href="group__esys.html">Enhanced System API</a> &raquo; <a class="el" href="group__esys__tpm.html">Esys TPM Commands</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>ESAPI function to invoke the TPM2_ObjectChangeAuth command either as a one-call or in an asynchronous manner.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga870a980325cf609681a01414da5019ca"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___esys___object_change_auth.html#ga870a980325cf609681a01414da5019ca">Esys_ObjectChangeAuth_Async</a> (<a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a> *esysContext, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> objectHandle, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> parentHandle, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> shandle1, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> shandle2, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> shandle3, const TPM2B_AUTH *newAuth)</td></tr>
<tr class="separator:ga870a980325cf609681a01414da5019ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa58f701aaac65188d6f85cc5de271986"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___esys___object_change_auth.html#gaa58f701aaac65188d6f85cc5de271986">Esys_ObjectChangeAuth</a> (<a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a> *esysContext, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> objectHandle, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> parentHandle, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> shandle1, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> shandle2, <a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a> shandle3, const TPM2B_AUTH *newAuth, TPM2B_PRIVATE **outPrivate)</td></tr>
<tr class="separator:gaa58f701aaac65188d6f85cc5de271986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa066f472a00409e1c7b49af338b3721c"><td class="memItemLeft" align="right" valign="top">TSS2_RC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___esys___object_change_auth.html#gaa066f472a00409e1c7b49af338b3721c">Esys_ObjectChangeAuth_Finish</a> (<a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a> *esysContext, TPM2B_PRIVATE **outPrivate)</td></tr>
<tr class="separator:gaa066f472a00409e1c7b49af338b3721c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>ESAPI function to invoke the TPM2_ObjectChangeAuth command either as a one-call or in an asynchronous manner. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa58f701aaac65188d6f85cc5de271986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa58f701aaac65188d6f85cc5de271986">&#9670;&nbsp;</a></span>Esys_ObjectChangeAuth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC Esys_ObjectChangeAuth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>esysContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>objectHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>parentHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>shandle1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>shandle2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>shandle3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TPM2B_AUTH *&#160;</td>
          <td class="paramname"><em>newAuth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPM2B_PRIVATE **&#160;</td>
          <td class="paramname"><em>outPrivate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>One-Call function for TPM2_ObjectChangeAuth</p>
<p>This function invokes the TPM2_ObjectChangeAuth command in a one-call variant. This means the function will block until the TPM response is available. All input parameters are const. The memory for non-simple output parameters is allocated by the function implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">esysContext</td><td>The <a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objectHandle</td><td>Handle of the object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parentHandle</td><td>Handle of the parent. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shandle1</td><td>Session handle for authorization of objectHandle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shandle2</td><td>Second session handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shandle3</td><td>Third session handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newAuth</td><td>New authorization value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outPrivate</td><td>Private area containing the new authorization value. (callee-allocated) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>if the function call was a success. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_REFERENCE</td><td>if the esysContext or required input pointers or required output handle references are NULL. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_CONTEXT</td><td>if esysContext corruption is detected. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MEMORY</td><td>if the ESAPI cannot allocate enough memory for internal operations or return parameters. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_SEQUENCE</td><td>if the context has an asynchronous operation already pending. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_INSUFFICIENT_RESPONSE</td><td>if the TPM's response does not at least contain the tag, response length, and response code. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MALFORMED_RESPONSE</td><td>if the TPM's response is corrupted. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_RSP_AUTH_FAILED</td><td>if the response HMAC from the TPM did not verify. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MULTIPLE_DECRYPT_SESSIONS</td><td>if more than one session has the 'decrypt' attribute bit set. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MULTIPLE_ENCRYPT_SESSIONS</td><td>if more than one session has the 'encrypt' attribute bit set. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_TR</td><td>if any of the ESYS_TR objects are unknown to the <a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a> or are of the wrong type or if required ESYS_TR objects are ESYS_TR_NONE. </td></tr>
    <tr><td class="paramname">TSS2_RCs</td><td>produced by lower layers of the software stack may be returned to the caller unaltered unless handled internally. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga870a980325cf609681a01414da5019ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga870a980325cf609681a01414da5019ca">&#9670;&nbsp;</a></span>Esys_ObjectChangeAuth_Async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC Esys_ObjectChangeAuth_Async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>esysContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>objectHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>parentHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>shandle1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>shandle2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___e_s_y_s___t_r.html#ga65d10db3b0b31fcd709e692f1545d30f">ESYS_TR</a>&#160;</td>
          <td class="paramname"><em>shandle3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TPM2B_AUTH *&#160;</td>
          <td class="paramname"><em>newAuth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronous function for TPM2_ObjectChangeAuth</p>
<p>This function invokes the TPM2_ObjectChangeAuth command in a asynchronous variant. This means the function will return as soon as the command has been sent downwards the stack to the TPM. All input parameters are const. In order to retrieve the TPM's response call Esys_ObjectChangeAuth_Finish.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">esysContext</td><td>The <a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">objectHandle</td><td>Handle of the object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parentHandle</td><td>Handle of the parent. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shandle1</td><td>Session handle for authorization of objectHandle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shandle2</td><td>Second session handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shandle3</td><td>Third session handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newAuth</td><td>New authorization value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ESYS_RC_SUCCESS</td><td>if the function call was a success. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_REFERENCE</td><td>if the esysContext or required input pointers or required output handle references are NULL. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_CONTEXT</td><td>if esysContext corruption is detected. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MEMORY</td><td>if the ESAPI cannot allocate enough memory for internal operations or return parameters. </td></tr>
    <tr><td class="paramname">TSS2_RCs</td><td>produced by lower layers of the software stack may be returned to the caller unaltered unless handled internally. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MULTIPLE_DECRYPT_SESSIONS</td><td>if more than one session has the 'decrypt' attribute bit set. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MULTIPLE_ENCRYPT_SESSIONS</td><td>if more than one session has the 'encrypt' attribute bit set. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_TR</td><td>if any of the ESYS_TR objects are unknown to the <a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a> or are of the wrong type or if required ESYS_TR objects are ESYS_TR_NONE. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa066f472a00409e1c7b49af338b3721c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa066f472a00409e1c7b49af338b3721c">&#9670;&nbsp;</a></span>Esys_ObjectChangeAuth_Finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSS2_RC Esys_ObjectChangeAuth_Finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>esysContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPM2B_PRIVATE **&#160;</td>
          <td class="paramname"><em>outPrivate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asynchronous finish function for TPM2_ObjectChangeAuth</p>
<p>This function returns the results of a TPM2_ObjectChangeAuth command invoked via Esys_ObjectChangeAuth_Finish. All non-simple output parameters are allocated by the function's implementation. NULL can be passed for every output parameter if the value is not required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">esysContext</td><td>The <a class="el" href="group__esys__int.html#struct_e_s_y_s___c_o_n_t_e_x_t">ESYS_CONTEXT</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outPrivate</td><td>Private area containing the new authorization value. (callee-allocated) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TSS2_RC_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">ESYS_RC_SUCCESS</td><td>if the function call was a success. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_REFERENCE</td><td>if the esysContext or required input pointers or required output handle references are NULL. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_CONTEXT</td><td>if esysContext corruption is detected. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MEMORY</td><td>if the ESAPI cannot allocate enough memory for internal operations or return parameters. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_BAD_SEQUENCE</td><td>if the context has an asynchronous operation already pending. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_TRY_AGAIN</td><td>if the timeout counter expires before the TPM response is received. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_INSUFFICIENT_RESPONSE</td><td>if the TPM's response does not at least contain the tag, response length, and response code. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_RSP_AUTH_FAILED</td><td>if the response HMAC from the TPM did not verify. </td></tr>
    <tr><td class="paramname">TSS2_ESYS_RC_MALFORMED_RESPONSE</td><td>if the TPM's response is corrupted. </td></tr>
    <tr><td class="paramname">TSS2_RCs</td><td>produced by lower layers of the software stack may be returned to the caller unaltered unless handled internally. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
