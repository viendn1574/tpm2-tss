[==========] Running 29 test(s).
[ RUN      ] conf_str_to_host_port_success_test
[       OK ] conf_str_to_host_port_success_test
[ RUN      ] conf_str_to_host_port_no_port_test
[       OK ] conf_str_to_host_port_no_port_test
[ RUN      ] conf_str_to_host_ipv6_port_success_test
[       OK ] conf_str_to_host_ipv6_port_success_test
[ RUN      ] conf_str_to_host_ipv6_port_no_port_test
[       OK ] conf_str_to_host_ipv6_port_no_port_test
[ RUN      ] conf_str_to_host_port_invalid_port_large_test
[       OK ] conf_str_to_host_port_invalid_port_large_test
[ RUN      ] conf_str_to_host_port_invalid_port_0_test
[       OK ] conf_str_to_host_port_invalid_port_0_test
[ RUN      ] conf_str_to_path_success_test
[       OK ] conf_str_to_path_success_test
[ RUN      ] tcti_swtpm_init_all_null_test
[       OK ] tcti_swtpm_init_all_null_test
[ RUN      ] tcti_swtpm_init_size_test
[       OK ] tcti_swtpm_init_size_test
[ RUN      ] tcti_swtpm_init_null_conf_test
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
[       OK ] tcti_swtpm_init_null_conf_test
[ RUN      ] tcti_swtpm_get_info_test
[       OK ] tcti_swtpm_get_info_test
[ RUN      ] tcti_swtpm_init_fail_connect_test
WARNING:tcti:src/util/io.c:262:socket_connect() Failed to connect to host 127.0.0.1, port 666: errno 22: Invalid argument 
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:613:Tss2_Tcti_Swtpm_Init() Cannot connect to swtpm TPM socket 
WARNING:tcti:src/util/io.c:262:socket_connect() Failed to connect to host 127.0.0.1, port 667: errno 22: Invalid argument 
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:147:tcti_control_command() Failed to connect to control socket. 
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:341:tcti_swtpm_set_locality() Failed to set locality: 0xa000a 
WARNING:tcti:src/tss2-tcti/tcti-swtpm.c:621:Tss2_Tcti_Swtpm_Init() Could not set locality via control channel: 0xa000a 
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_init_fail_connect_test
[ RUN      ] tcti_swtpm_get_poll_handles_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_get_poll_handles_test
[ RUN      ] tcti_swtpm_receive_null_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_receive_null_test
[ RUN      ] tcti_swtpm_receive_null_size_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_receive_null_size_test
[ RUN      ] tcti_swtpm_receive_success_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_receive_success_test
[ RUN      ] tcti_swtpm_receive_size_success_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_receive_size_success_test
[ RUN      ] tcti_swtpm_receive_eof_first_read_test
WARNING:tcti:src/util/io.c:72:read_all() Attempted read 10 bytes from fd -1, but EOF returned 
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_receive_eof_first_read_test
[ RUN      ] tcti_swtpm_receive_eof_second_read_test
WARNING:tcti:src/util/io.c:72:read_all() Attempted read 6 bytes from fd -1, but EOF returned 
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_receive_eof_second_read_test
[ RUN      ] tcti_swtpm_receive_timeout_try_again_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_receive_timeout_try_again_test
[ RUN      ] tcti_swtpm_transmit_success_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_transmit_success_test
[ RUN      ] tcti_swtpm_transmit_null_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_transmit_null_test
[ RUN      ] tcti_swtpm_transmit_fail_header_test
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:274:tcti_swtpm_transmit() Buffer size parameter: 12, and TPM2 command header size field: 255 disagree. 
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:274:tcti_swtpm_transmit() Buffer size parameter: 0, and TPM2 command header size field: 255 disagree. 
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_transmit_fail_header_test
[ RUN      ] tcti_swtpm_control_command_success_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_control_command_success_test
[ RUN      ] tcti_swtpm_control_command_null_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_control_command_null_test
[ RUN      ] tcti_swtpm_control_command_recv_fail_test
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:191:tcti_control_command() Failed to get response to control command, errno 22: Invalid argument 
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:227:tcti_control_command() Control command failed with error: 4294967295 
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_control_command_recv_fail_test
[ RUN      ] tcti_swtpm_cancel_test
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_cancel_test
[ RUN      ] tcti_swtpm_locality_test
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:227:tcti_control_command() Control command failed with error: 4294967295 
ERROR:tcti:src/tss2-tcti/tcti-swtpm.c:341:tcti_swtpm_set_locality() Failed to set locality: 0xa000a 
tcti_swtpm_setup: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup: done
[       OK ] tcti_swtpm_locality_test
[ RUN      ] tcti_swtpm_receive_success_test
tcti_swtpm_setup_unix: before tcti_swtpm_init_from_conf
tcti_swtpm_init_from_conf: before first init
tcti_swtpm_init_from_conf: before second_init
tcti_swtpm_init_from_conf: after second init
tcti_swtpm_setup_unix: done
[       OK ] tcti_swtpm_receive_success_test
[==========] 29 test(s) run.
[  PASSED  ] 29 test(s).
PASS test/unit/tcti-swtpm (exit status: 0)
